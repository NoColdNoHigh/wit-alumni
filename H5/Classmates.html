<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no, target-densitydpi=device-dpi">
    <meta name="keywords" content="校友录，校友会,手机校友录，慧脑校友录">
    <meta name="description" content="慧脑校友录,手机校友录，校友会">
    <link href="../img/ico/xy_ico.jpg" rel="apple-touch-icon-precomposed"/>
    <link rel="stylesheet" type="text/css" href="../css/alumni.css">
    <link rel="stylesheet" type="text/css" href="../css/witcs.css">
    <script src="../js/witjs.js?j=1"></script>
    <title>校友录</title>
</head>

<body class="ofa ffWRYH" onload="loadend()" onresize="autocss()">
<div id="s_select" class="none index999 fix bottom0 W11 CH callnone"></div>
<!--导航栏-->
<div class="index99 fix top0 H W11 AC ffHT  bgc9">慧脑校友录
    <img src='../images/icon/xy2.png' class="FL B4M H4M" onclick=""/>
    <img src='../images/icon/setting.png' class="FR ICON P05M"/>
</div>
<!--首页-->
<div id="index" class="MTH">
    <div class="W11 AC ofh relative img-edge-cover">
        <img src="../images/classbg.png" class="W11">
    </div>
    <div class="W11 bgc9 MT">
        <div class="FL B9M H9M bgc4 rad05e MTNMH ML">
            <!--班级头像-->
            <img class="absolute B9M H9M bgc10 P05M rad05e" src="../images/pic2.png" alt="">
        </div>
        <div class="FL P1M ffWRYH C10M">
            <div class=" bold F3 ellips"> xx高级中学高二（10）班 ---2018级</div>
            <div class="F2 color333 ellips">班主任：张大千</div>
        </div>
        <div class="clear"></div>
    </div>
    <div class="W11 AC ofh bgc9 relative MT">
        <div class=" W11  F2 H3M AC  MT PL1M PR1M">
            <!--<div class="bgc14 rad05  F1 FL ">置顶</div>-->

            <div class="colorR  PR1M ellips  F3">
                <img src="../images/icon/top.png" class="B3M" alt="">
                <marquee behavior=scroll id="frist_notice">通知 ：本周二晚8:00全体在XX餐厅聚餐，请相互通知，按时到场！</marquee>
            </div>
        </div>
        <div class="W11 PL1M PR1M AC PB1M">
            <div class="AC colorA PB1M PT1M flexbox">
                <img class="W31 FL" src="../images/icon/line-min.png" alt="">
                <div class="W51 FL">今天</div>
                <img class="W31 FL" src="../images/icon/line-min.png" alt="">
            </div>
            <div class=" bgc10 rad05  MB">
                <div class="P1M W11 AL ">
                    <div class="ellips ">通知：上传了一组照片</div>
                    <div class="MT05 FR F2 colorA">12:01</div>
                    <div class="clear"></div>
                </div>
            </div>
            <div class=" bgc10 rad05  MB">
                <div class="P1M W11 AL ">
                    <div class="ellips ">通知：上传了一组照片</div>
                    <div class="MT05 FR F2 colorA">12:01</div>
                    <div class="clear"></div>
                </div>
            </div>

            <div class="AC colorA PB1M PT1M flexbox">
                <img class="W31 FL" src="../images/icon/line-min.png" alt="">
                <div class="W51 FL">昨天</div>
                <img class="W31 FL" src="../images/icon/line-min.png" alt="">
            </div>
            <div class=" bgc10 rad05  MB">
                <div class="P1M W11 AL ">
                    <div class="ellips ">通知：上传了一组照片</div>
                    <div class="MT05 FR F2 colorA">12:01</div>
                    <div class="clear"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="W11 H8M AC color8 PT1M">—————— END ——————</div>
</div>

<!--通知-->
<div id="notice" class="W11 AC ofh MTH  none">
    <div class=" PT2M PB1M  PL1M PR1M W11 bgcddc">
        <div class="FL W43">
            <div class="FL  P05M AL color876 bold">通告榜</div>
            <img class="W32 " src="../images/icon/yellow-line.png" alt="">
        </div>
        <div class="FR  rad03e bgc104 P05M W41">发布通知</div>
        <div class="clear PT1M"></div>

    </div>

    <div id="cont_notice">

    </div>
    <div class="W11 H8M AC color8 PT1M">—————— END ——————</div>
</div>
<!--同学录-->
<div id="information" class="W11  MTH none">
    <div class="W11">
        <div class="W11 AC inlineB MT">
            <div class="FL ML AL color8  bold ">座位表</div>
            <div class="FR ">
                <div class="FR rad03e bgc104 P05M MR" onclick="dais.init(this,0);">
                    调整座位
                </div>
                <!--<div class="FL   bgc104 ACP H2M">列</div>-->
                <!--<div class="FL MR F2">-->
                <!--<select class=" B3M bord0 H2M" id="daisL" onchange="daisWH()" title="">-->
                <!--<option value="8">8</option>-->
                <!--<option value="7" selected="selected">7</option>-->
                <!--<option value="6">6</option>-->
                <!--<option value="5">5</option>-->
                <!--<option value="4">4</option>-->
                <!--</select>-->
                <!--</div>-->

                <!--<div class="FL bgc104 ACP H2M">行</div>-->
                <!--<div class="FL MR F2">-->
                <!--<select class="B3M bord0 H2M" id="daisH" onchange="daisWH()">-->
                <!--<option value="10">10</option>-->
                <!--<option value="9">9</option>-->
                <!--<option value="8" selected="selected">8</option>-->
                <!--<option value="7">7</option>-->
                <!--<option value="6">6</option>-->
                <!--<option value="5">5</option>-->
                <!--<option value="4">4</option>-->

                <!--</select>-->
                <!--</div>-->


            </div>
            <div class="clear H3M"></div>
            <!--<img src="../images/icon/dais.png" alt="" class="clear  W11 AC">-->
        </div>
        <img src="../images/icon/dais.png" alt="" class="W11 MTNH block ">
        <div id="dais" class="MT">
            <div class="W11 ofh H16M relative img-edge-cover" id="daislist">

            </div>
            <div class="AC W11 ">
                <img src="../images/icon/open.png" alt="" id="open_all" class="B2M AC" onclick="openAll()">
            </div>
        </div>
    </div>
    <div class="W11">
        <div class="W11 ALP color8 bold LH2">
            通讯录
        </div>
        <div class="W11 bordBD1">
        </div>
        <div id="phone_list" class="bgcd1">
            <!--通讯录列表-->
        </div>

    </div>
    <div class="W11 H8M AC color8 PT1M">—————— END ——————</div>
</div>
<!--档案-->
<div id="photo" class="W11 AC MTH  none">
    <img src="../images/bybg.png" alt="" class="W11">
    <div class="W11">
        <div class="P1M  W11">
            <div class="FL W43">
                <div class="FL color8 P05M AL">照片</div>
                <img class="W43 " src="../images/icon/line.png" alt="">
            </div>
            <div class="FR  rad03e bgc104 P05M W41">上传照片</div>
            <div class="clear"></div>
        </div>
        <div class="W11" id="ph_img">
            <!--照片-->
        </div>
    </div>
    <div class="W11">
        <div class="P1M  W11">
            <div class="FL W43">
                <div class="FL color8 P05M AL">视频</div>
                <img class="W43 " src="../images/icon/line.png" alt="">
            </div>
            <div class="FR  rad03e bgc104 P05M W41">上传视频</div>
            <div class="clear"></div>
        </div>
        <div class="W11" id="ph_video">
            <!--视频-->
        </div>
    </div>

    <div class="W11 MT">
        <div class="P1M  W11">
            <div class="FL W43">
                <div class="FL color8 P05M AL">文件</div>
                <img class="W43 " src="../images/icon/line.png" alt="">
            </div>
            <div class="FR  rad03e bgc104 P05M W41">上传文件</div>
            <div class="clear"></div>
        </div>
        <div class="W11" id="ph_word">
            <!--文件-->
        </div>
    </div>
    <div class="W11 H8M AC color8 PT1M">—————— END ——————</div>
</div>
<!--动态-->
<div id="dynamic" class="W11 AC  CH bgcf4  MTH none">
    <div class="W11 P1M">
        <img src="../images/pic2.png" alt="" class="FL radius B4M">
        <div class="FL">
            <div class="relative rad05e P05M bgc10 M talkbubble ALP2 PL1M PR1M">图片格式如何处理</div>
        </div>

        <div class="clear"></div>
    </div>
    <div class="W11 fix bottom10M ">
        <input type="text" class="FL MLT ML H3M W43  ALP  " placeholder="说一下...">
        <div class=" FR W61  bgc4 border MLT MR H3M  LH24">发送</div>
    </div>
</div>
<!--bottom-->
<!--<div class="W11 H8M AC color8 PT1M">—————— END ——————</div>-->
<div class="W11 fix bottom0 bordTD1 H5M F1 flexbox bgc10 color333 index99" id="menu_list">
    <div class="FL W51 AC submenu" id="cl_index">
        <img class="H2M menuimg" src="../images/icon/index02.png" alt="">
        <div class="menuname active">首页</div>
    </div>
    <div class="FL W51 AC submenu" id="cl_notice">
        <img class="H2M menuimg" src="../images/icon/notice01.png" alt="">
        <div class="menuname">通知</div>
    </div>
    <div class="FL W51 AC submenu" id="cl_information">
        <img class="H2M menuimg" src="../images/icon/information01.png" alt="">
        <div class="menuname">同学录</div>
    </div>
    <div class="FL W51 AC submenu" id="cl_photo">
        <img class="H2M menuimg" src="../images/icon/photo01.png" alt="">
        <div class="menuname">档案</div>
    </div>
    <div class="FL W51 AC submenu" id="cl_dynamic">
        <img class="H2M menuimg" src="../images/icon/dynamic01.png" alt="">
        <div class="menuname">动态</div>
    </div>
</div>
<!--bottom end-->
</body>
<script src="../js/wit_ajax.js"></script>
<script src="../js/witconfig.js"></script>
<script src="../js/witjsdate.js"></script>
<script src="../js/wittouch_02.js"></script>

<script>
    function loadend() {
        autocss();
        loadimg();

    }

    var menu = document.getElementsByClassName("submenu");
    for (var i = 0; i < menu.length; i++) {
        (function (i) {
            // alert(menu[i])
            console.log(menu[i].id);
            menu[i].onclick = function () {
                console.log(this.id);
                switch (this.id) {
                    case "cl_notice":
                        cl_notice();
                        break;
                    case "cl_index":
                        cl_index();
                        break;
                    case "cl_information":
                        cl_information();
                        break;
                    case "cl_photo":
                        cl_photo();
                        break;
                    case "cl_dynamic":
                        cl_dynamic();
                        break;
                }
                var menuname = document.getElementsByClassName("menuname");
                for (var j = 0; j < menuname.length; j++) {
                    menuname[j].classList.remove("active");
                }
                for (var k = 0; k < menu.length; k++) {
                    var idnamex = menu[k].id.split("cl_");
                    menu[k].firstElementChild.src = "../images/icon/" + idnamex[1] + "01.png";
                    document.getElementById(idnamex[1]).classList.add("none");
                }
                var tid = document.getElementById(this.id);
                var timg = tid.firstElementChild;
                var idname = this.id.split("cl_");
                var timgsrc = "../images/icon/" + idname[1] + "02.png";
                timg.src = timgsrc;
                tid.lastElementChild.classList.add("active");
                document.getElementById(idname[1]).classList.remove("none");
            }
        })(i)
    }

    var dais = {
        attr: {
            outtype: "",
            outtext: "",
            date_show_gs: "",
            H: 0,
            rowx: [],
            rowy: [],
            date_sli: []
        },
        init: function ($d, $p, $gs) {
            var n = "01";
            var d = $d, p = $p || "s_select", $ = this, gs = $gs;
            this.attr.outtype = n;
            this.attr.date_sli = ['row_x', 'row_y'];
            this.attr.rowx = [4, 5, 6, 7, 8];
            this.attr.rowy = [4, 5, 6, 7, 8, 9, 10];
            this.attr.H = (M ? M : 10) * 4;
            var cont = '<div id="UI_bk" class="W11 H11 bgca04"></div>' +
                '<div id="UI_content" class="index99 fix bottom0 FL W11 H35M bgc7 AC" >' +
                '<div id="wit_date_opt" class="FL MLT A54 H AC bgc10 bord0" ></div>' +
                '<div id="wit_date_confirm" class="FR MRT A51 H AC bgc104">确认</div>' +
                '<div id="wit_scr" class="FL ML A11 H28M" ><div class="no_event index999 absolute bottom13M W11 H bgc118 alpha2"></div>';
            if (typeof d != "object") {
                console.warn("params 1 不合格！请传递触发的dom对象！");
                return;
            }
            this.attr.date_show_gs = gs ? gs : "列行";
            for (var i in n.split("")) {
                cont += '<div id="' + this.attr.date_sli[n.charAt(i)] + '" name="s" class="ofa FL MT H11 W' + n.length + '1 bgc' + (8 + Number(i)) + '" ></div>'
            }
            document.getElementById(p).innerHTML = cont + "</div>";
            this.toggle(p, 1);
            this.C_scrolli(0);
            document.getElementById('wit_date_confirm').addEventListener('click', function () {
                var o = document.querySelector("#wit_date_opt");
                console.log(o.innerText);
                var daiswh = o.innerText.split("");
                daisWH(daiswh[6],daiswh[12]);
                // console.log(daiswh[6]+"_"+daiswh[12]);


                $.toggle(p, 0);
            }, false);
            document.getElementById("UI_bk").addEventListener("click", function () {
                $.toggle(p, 0);
            }, false);
        },
        toggle: function (d, syn) {
            d = typeof d == "string" ? document.getElementById(d) : d;
            if (syn) {
                d.style.display = "";
                d.classList.remove("none");
                document.body.style.overflow = "hidden";
            } else {
                d.style.display = "none";
                d.classList.add("none");
                document.body.style.overflow = "auto";
            }
        },
        C_scrolli: function (k) {
            var x;
            if (k == 0) {
                x = this.attr.rowx;
            } else if (k == 1) {
                x = this.attr.rowy;
            }
            var content = "<ul class='FL W11 color333 bold'><li class='W11 H' ></li><li class='W11 H' ></li><li class='W11 H' ></li>";
            for (var i in x) {
                content += "<li class='W11 H AC ' data-v=" + x[i] + " onclick='dais.turn()' >" + x[i] + "</li>"
            }
            content = content + "<li class='W11 H ' ></li><li class='W11 H' ></li><li class='W11 H' ></li></ul>";
            var node = k + 1;
            if (node < 3) {
                var scrp = document.getElementById("wit_scr").childNodes[node];
                scrp.innerHTML = content;
                scrp.addEventListener('touchend', this.alladjust, false);
                scrp.addEventListener('scroll', this.scrolladjust, false);
            }
            if (k < this.attr.outtype.length - 1) {
                this.attr.rowx = x[0];
                this.attr.outtype[k] = x[0];
                this.C_scrolli(k + 1);
            } else {
                this.attr.rowy = x[0];
                this.displaydate();
            }
        },  //生成滚轮
        turn: function () {
            var litop = event.srcElement.offsetTop - event.srcElement.parentNode.offsetTop;
            var ppobj = event.srcElement.parentNode.parentNode;
            ppobj.scrollTop = litop - H * 3;
            if (ppobj.id == "row_x") {
                this.attr.rowx = event.srcElement.dataset.v;
                this.displaydate();
            } else {
                this.attr.rowy = event.srcElement.dataset.v;
                this.displaydate();
            }
        },
        //调整滚动后位置
        alladjust: function () {
            var obj = event.srcElement.parentNode.parentNode;
            setTimeout(function () {
                obj.childNodes[0].childNodes[Math.round(obj.scrollTop / dais.attr.H) + 3].click();
            }, 500);
        },
        //滚轮调整
        scrolladjust: function () {
            var obj = event.srcElement;
            setTimeout(function () {
                obj.childNodes[0].childNodes[Math.round(obj.scrollTop / dais.attr.H) + 3].click()
            }, 500);
        },
        //显示到输出
        displaydate: function () {
            var outtext = "座位调整为：";
            outtext += this.attr.rowx + " 列 × " + this.attr.rowy + " 行";
            this.attr.outtext = outtext;
            document.getElementById("wit_date_opt").innerHTML = this.attr.outtext;

        },
    };

    /**
     * 座位表的图片
     * */
    function daisWH(value_w,value_h) {
        // console.log("座位表：列" + value_w + " 行" + value_h);
        var cont = "";
        for (var i = 0; i < value_h * value_w; i++) {
            cont += "<img class='A" + value_w + "1 rad03e ML AL' src='../images/icon/classmatespic.png'  id=c_headimg" + i + ">"
        }//绘制座位表
        document.getElementById("daislist").innerHTML = cont;
    }

    /*座位的展开与隐藏*/
    function openAll() {
        var daislist = document.getElementById("daislist");
        var daislistclass = daislist.className;
        var bq_open = document.getElementById("open_all");
        var class_name = "ofh" + " " + "H16M" + " " + "img-edge-cover" + " " + "W11" + " " + "relative";
        if (daislistclass.indexOf("ofh H16M") > -1) {
            daislist.className = "W11" + " " + "relative";
            bq_open.src = "../images/icon/close.png";
        }
        else {
            daislist.className = class_name;
            bq_open.src = "../images/icon/open.png";
        }
    }

    function cl_index() {

    }

    var test = [
        {
            test_id: 1,
            test_name: "测试1",
            test_time: "2018-08-10",
        },
        {
            test_id: 2,
            test_name: "测试2",
            test_time: "2018-08-12",
        },
        {
            test_id: 3,
            test_name: "测试3",
            test_time: "2018-08-13",
        }, {
            test_id: 5,
            test_name: "测试3",
            test_time: "2018-08-13",
        }, {
            test_id: 6,
            test_name: "测试3",
            test_time: "2018-08-13",
        },
        {
            test_id: 4,
            test_name: "测试4",
            test_time: "2018-08-14",
        }
    ];

    //添加通知消息
    function cl_notice() {
        document.getElementById("cont_notice").innerHTML = "";
        test.forEach(function (v) {
            var div = document.createElement("div");
            div.className = " W11 AL";
            // div.dataset.id = para.schooljson.sc_id;
            div.innerHTML = '  <div class="W11 P1M bordBD1">' +
                '<div class="colorO  F3 FL italic W161 bold">' + v.test_id + '</div>' +

                '<div class="thicker">李伟同学于2018年10月25日荣获浙江省奥林匹克数学竞赛一等奖</div>' +
                '<div class="FR F2 colorA">2018/10/25</div>' +

                '<div class="clear"></div>' +
                '</div>';
            document.getElementById("cont_notice").appendChild(div);
        });
    }

    function cl_information() {
         daisWH(5,6);//设置默认座位表
        var cont = document.getElementById("phone_list");
        cont.innerHTML = "";
        test.forEach(function (v) {
            var div = document.createElement("div");
            div.className = " W11 H7M bordBD1";
            div.innerHTML = '<li class="absolute W11 H7M bordBD1 bgc10 ofh index9">' +
                '<img class="FL B5M rad0 M" src="../images/pic1.png" alt=""> ' +
                '<div class="FL  C8M MT05 LH2"> ' +
                '<div class="FL W21 color876 bold ofh F3">张明明</div> ' +
                '<div class="FR W21 AR color8 F3 ofh">行政主管</div> ' +
                '<div class="FL W11 color8 F3 ellips AL">浙江慧脑信息科技有限公司' +
                '</div></div></li>' +
                '<div class="absolute left0 B7M H7M F4 AC LH4 bgc36 color1 ">详情</div>' +
                '<div class="absolute right0 B7M H7M F4 AC LH4 bgc45 color1 ">打电话</div>"';
            var li = div.querySelector("li");
            SomeEvent(li, {
                MOVE_LIMIT_BACK: true
                , CW: CW
                , S: M * 6
                , L: M * 12
                , MOVE_BACK: {_X: 10, X_: CW - 10}
                , MOVE_LIMIT: true
            }, f, {});
            cont.appendChild(div);
        });
        var f = {
            A_L: function () {
                this.A_LL();
            },
            A_R: function () {
                this.A_LR();
            },
            A_O: function () {

            }
        }
    }

    function cl_photo() {
        var ph_img = document.getElementById("ph_img");
        ph_img.innerHTML = "";
        test.forEach(function (v) {
            var div = document.createElement("div");
            div.className = " FL ML";
            div.innerHTML =
                '<img class="A41 rad05" src="../images/port03.jpg" alt="">' +
                '<div class="F2 ellips A41 PB1M AC">2016年秋游 照片留念</div>';
            ph_img.appendChild(div);
        });
        var newImgs = document.createElement("div");
        newImgs.className = "FL W41"
        newImgs.innerHTML = '<img class="A41 rad05" src="../images/icon/add_photo.png" alt="">';
        ph_img.appendChild(newImgs);
        clear(ph_img);

        var ph_video = document.getElementById("ph_video");
        ph_video.innerHTML = "";
        test.forEach(function (v) {
            var div = document.createElement("div");
            div.className = " FL ML";
            div.innerHTML =
                '<img class="A41 rad05" src="../images/port03.jpg" alt="">' +
                '<div class="F2 ellips A41 PB1M AC">2016年秋游 照片留念</div>';
            ph_video.appendChild(div);
        });
        clear(ph_video);

        var ph_word = document.getElementById("ph_word");
        ph_word.innerHTML = "";
        test.forEach(function (v) {
            var div = document.createElement("div");
            div.className = " FL ML";
            div.innerHTML =
                '<img class="A41 rad05" src="../images/port03.jpg" alt="">' +
                '<div class="F2 ellips A41 PB1M AC">毕业论文</div>';
            ph_word.appendChild(div);
        });
        var newWords = document.createElement("div");
        newWords.className = "FL W41"
        newWords.innerHTML = '<img class="A41 rad05" src="../images/icon/add_folder.png" alt="">';
        ph_word.appendChild(newWords);
        clear(ph_word);
    }

    function cl_dynamic() {

    }

    function clear(id) {
        var newDiv = document.createElement("div");
        newDiv.className = "clear";
        id.appendChild(newDiv);
    }
</script>
</html>
